# zizmor configuration file
# See: https://docs.zizmor.sh/configuration/

rules:
    # release.yml is auto-generated by cargo-dist
    # These permissions are required for the release workflow
    excessive-permissions:
      ignore:
        - release.yml:19  # attestations: write - required for build provenance
        - release.yml:20  # contents: write - required for creating releases
        - release.yml:21  # id-token: write - required for OIDC token

    # Template injection patterns in release.yml are intentional cargo-dist patterns
    template-injection:
      ignore:
        - release.yml:83   # github.ref_name - required for tag-based releases
        - release.yml:134  # matrix.install_dist.run - dynamic installer command
        - release.yml:144  # matrix.packages_install - dynamic package installation
        - release.yml:148  # needs.plan.outputs.tag-flag and matrix.dist_args